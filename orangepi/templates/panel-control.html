<!DOCTYPE html>
<html lang="en">

	<head>

		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<meta name="description" content="">
		<meta name="author" content="">

		<title>Domótica Aplicada con Raspberry/Orange Pi</title>

		<!-- Jquery Lib -->
		<script src="{{url_for('static',filename='jquery/3.3.1/jquery-3.3.1.min.js')}}"></script>

		<!-- Bootstrap core CSS -->
		<link href="{{url_for('static',filename='vendor/bootstrap/css/bootstrap.min.css')}}" rel="stylesheet">

		<!-- Custom styles for this template -->
		<link href="{{url_for('static',filename='css/blog-home.css')}}"  rel="stylesheet" >


	</head>

	<body>

		<!-- Navigation -->
		<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
			<div class="container">
				<a class="navbar-brand" href="index">Bienvenido: {% if user %} {{ user }} {% endif %} </a>
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarResponsive">
					<ul class="navbar-nav ml-auto">
						<li class="nav-item active">
							<a class="nav-link" href="logout">Cerrar Sesión
							</a>
						</li>
					</ul>
				</div>
			</div>
		</nav>

		<!-- Page Content -->
		<div class="container">

			<div class="row">

				<!-- Blog Entries Column -->
				<div class="col-md-12">

					<h1 class="my-4">Raspberry/Orange Pi
						<small>Servidor</small>
					</h1>

					<!-- Blog Post -->
					<div class="card mb-2">
						<div class="card-body">
							<h2 class="card-title">Panel de Control de Leds</h2>
							<p class="card-text">Bienvenido al sistema de control de leds. Puede prender/encender los leds que dispone el sistema domótico. Dispone de led rojo, amarillo y verde.</p>

							<br><br>							

							<div class="col-md-8 mx-auto">
						          <h4 class="mb-3">Panel Control</h4>
						          <form action="controler" method="POST">
						          	{% if selects %}
                                  	    {% for sel in selects %}
						                    <div class="input-group mb-3">
												<div class="input-group-prepend">
									               	<label class="input-group-text">Control Led : {{ sel.pin }} </label>
									        	</div>

                                            	<select class="custom-select" id="led{{ sel.pin }}" name="led{{ sel.pin }}">
										       		<option {{ sel.choose }} >Choose...</option>
										       		<option {{ sel.on }} value="1">On</option>
										       		<option {{ sel.off  }} value="2">Off</option>
										    	</select>
									        </div>						
										{% endfor %}
									{% endif %}
						            <hr class="mb-4">
						            <button class="btn btn-primary btn-lg btn-block" type="submit">Confirm Change</button>
						          </form>
						        </div>



							<br>

							{% if 'led1' in form.errors %}
							<div class="alert alert-danger" role="alert">
							  <h4 class="alert-heading">Error</h4>
							  <p>{{ form.errors['led1'] }}</p>
							  <hr>
							  <p class="mb-0"></p>
							</div>
							{% endif %}
							
							{% if 'led2' in form.errors %}
							<div class="alert alert-danger" role="alert">
							  <h4 class="alert-heading">Error</h4>
							  <p>{{ form.errors['led2'] }}</p>
							  <hr>
							  <p class="mb-0"></p>
							</div>
							{% endif %}


						</div>
						<div class="card-footer text-muted">
							GitHub:            <a href="https://github.com/malexandroff1/TallerII" target="_blank">Taller de Proyecto II</a>
						</div>
					</div>
				</div>

			</div>
			<!-- /.row -->
		</div>
		<!-- /.container -->

		<!-- Footer -->
		<footer class="py-5 bg-dark">
			<div class="container">
				<p class="m-0 text-center text-white">GitHub: <a href="https://github.com/malexandroff1/TallerII" target="_blank">Taller de Proyecto II</a></p>
			</div>
			<!-- /.container -->
		</footer>

		<!-- Bootstrap core JavaScript -->
		<script src = "{{ url_for('static', filename = 'vendor/jquery/jquery.min.js') }}" ></script>
		<script src = "{{ url_for('static', filename = 'vendor/bootstrap/js/bootstrap.bundle.min.js') }}" ></script>
	</body>
</html>
